{"version":3,"sources":["src/javascript/swiper.js"],"names":["Swiper","node","Error","root","document","querySelector","eventHub","initX","newX","clock","ontouchstart","e","changedTouches","pageX","ontouchmove","clearInterval","setTimeout","forEach","fn","bind","on","type","push","off","index","indexOf","splice"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;IAIMA,SACF,gBAAYC,IAAZ,EAAkB;AAAA;;AACd,MAAI,CAACA,IAAL,EAAW,MAAM,IAAIC,KAAJ,CAAU,gBAAV,CAAN;AACX,MAAIC,IAAI,GAAG,OAAOF,IAAP,KAAgB,QAAhB,GAA2BG,QAAQ,CAACC,aAAT,CAAuBJ,IAAvB,CAA3B,GAA0DA,IAArE;AACA,MAAIK,QAAQ,GAAG;AACX,gBAAY,EADD;AAEX,iBAAa;AAFF,GAAf;AAKA,MAAIC,KAAJ;AACA,MAAIC,IAAJ;AACA,MAAIC,KAAJ;;AACAN,EAAAA,IAAI,CAACO,YAAL,GAAoB,UAASC,CAAT,EAAY;AAC5BJ,IAAAA,KAAK,GAAGI,CAAC,CAACC,cAAF,CAAiB,CAAjB,EAAoBC,KAA5B;AACH,GAFD;;AAIAV,EAAAA,IAAI,CAACW,WAAL,GAAmB,UAASH,CAAT,EAAY;AAC3B,QAAIF,KAAJ,EAAWM,aAAa,CAACN,KAAD,CAAb;AACXA,IAAAA,KAAK,GAAGO,UAAU,CAAC,YAAM;AACrBR,MAAAA,IAAI,GAAGG,CAAC,CAACC,cAAF,CAAiB,CAAjB,EAAoBC,KAA3B;;AACA,UAAIL,IAAI,GAAGD,KAAP,GAAe,EAAnB,EAAuB;AACnBD,QAAAA,QAAQ,CAAC,WAAD,CAAR,CAAsBW,OAAtB,CAA8B,UAAAC,EAAE;AAAA,iBAAIA,EAAE,CAACC,IAAH,CAAQhB,IAAR,GAAJ;AAAA,SAAhC;AACH,OAFD,MAEO,IAAII,KAAK,GAAGC,IAAR,GAAe,EAAnB,EAAuB;AAC1BF,QAAAA,QAAQ,CAAC,UAAD,CAAR,CAAqBW,OAArB,CAA6B,UAAAC,EAAE;AAAA,iBAAIA,EAAE,CAACC,IAAH,CAAQhB,IAAR,GAAJ;AAAA,SAA/B;AACH;AACJ,KAPiB,EAOf,GAPe,CAAlB;AAQH,GAVD;;AAYA,OAAKiB,EAAL,GAAU,UAASC,IAAT,EAAeH,EAAf,EAAmB;AACzB,QAAIZ,QAAQ,CAACe,IAAD,CAAZ,EAAoB;AAChBf,MAAAA,QAAQ,CAACe,IAAD,CAAR,CAAeC,IAAf,CAAoBJ,EAApB;AACH;AACJ,GAJD;;AAMA,OAAKK,GAAL,GAAW,UAASF,IAAT,EAAeH,EAAf,EAAmB;AAC1B,QAAIM,KAAK,GAAGlB,QAAQ,CAACe,IAAD,CAAR,CAAeI,OAAf,CAAuBP,EAAvB,CAAZ;;AACA,QAAIM,KAAK,KAAK,CAAC,CAAf,EAAkB;AACdlB,MAAAA,QAAQ,CAACe,IAAD,CAAR,CAAeK,MAAf,CAAsBF,KAAtB,EAA6B,CAA7B;AACH;AACJ,GALD;AAMH;;eAGUxB","file":"swiper.2df9c21a.js","sourceRoot":"..","sourcesContent":["// let Swiper = (function() {\r\n//     let root = document\r\n//     let eventHub = {\r\n//         'swipLeft': [],\r\n//         'swipRight': []\r\n//     }\r\n\r\n//     function bind(node) {\r\n//         root = node\r\n//     }\r\n\r\n//     function on(type, fn) {\r\n//         if (eventHub[type]) {\r\n//             eventHub[type].push(fn)\r\n//         }\r\n//     }\r\n//     var initX\r\n//     var newX\r\n//     var clock\r\n//     root.ontouchstart = function(e) {\r\n//         initX = e.changedTouches[0].pageX\r\n//     }\r\n//     root.ontouchmove = function(e) {\r\n//         if (clock) clearInterval(clock)\r\n//         clock = setTimeout(() => {\r\n//             newX = e.changedTouches[0].pageX\r\n//             if (newX - initX > 10) {\r\n//                 eventHub['swipRight'].forEach(fn => fn())\r\n//             } else {\r\n//                 eventHub['swipLeft'].forEach(fn => fn())\r\n//             }\r\n//         }, 100);\r\n//     }\r\n//     return {\r\n//         bind: bind,\r\n//         on: on\r\n//     }\r\n// })()\r\n\r\n\r\n// Swiper.bind(document.querySelector('#box'))\r\n\r\n// Swiper.on('swipLeft', function() {\r\n//     console.log('swipLeft')\r\n// })\r\n\r\n// Swiper.on('swipLeft', function() {\r\n//     console.log('swipLeft11111111')\r\n// })\r\n\r\n// Swiper.on('swipRight', function() {\r\n//     console.log('swipRight')\r\n// })\r\n\r\n// Swiper.on('swipRight', function() {\r\n//     console.log('swipRight 1234567890')\r\n// })\r\n\r\n\r\n\r\nclass Swiper {\r\n    constructor(node) {\r\n        if (!node) throw new Error('需要传递需要绑定的DOM元素')\r\n        let root = typeof node === 'string' ? document.querySelector(node) : node\r\n        let eventHub = {\r\n            'swipLeft': [],\r\n            'swipRight': []\r\n        }\r\n\r\n        let initX\r\n        let newX\r\n        let clock\r\n        root.ontouchstart = function(e) {\r\n            initX = e.changedTouches[0].pageX\r\n        }\r\n\r\n        root.ontouchmove = function(e) {\r\n            if (clock) clearInterval(clock)\r\n            clock = setTimeout(() => {\r\n                newX = e.changedTouches[0].pageX\r\n                if (newX - initX > 50) {\r\n                    eventHub['swipRight'].forEach(fn => fn.bind(root)())\r\n                } else if (initX - newX > 50) {\r\n                    eventHub['swipLeft'].forEach(fn => fn.bind(root)())\r\n                }\r\n            }, 100)\r\n        }\r\n\r\n        this.on = function(type, fn) {\r\n            if (eventHub[type]) {\r\n                eventHub[type].push(fn)\r\n            }\r\n        }\r\n\r\n        this.off = function(type, fn) {\r\n            let index = eventHub[type].indexOf(fn)\r\n            if (index !== -1) {\r\n                eventHub[type].splice(index, 1)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport default Swiper"]}